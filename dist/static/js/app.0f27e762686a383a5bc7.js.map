{"version":3,"sources":["webpack:///./src/assets/util.js","webpack:///src/components/item.vue","webpack:///./src/components/item.vue?5928","webpack:///./src/components/item.vue","webpack:///./src/assets/directives/time.js","webpack:///src/components/daily-article.vue","webpack:///./src/components/daily-article.vue?0bab","webpack:///src/App.vue","webpack:///./src/components/daily-article.vue","webpack:///./src/App.vue?1b69","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Util","imgPath","apiPath","getTodayTime","date","Date","setHours","setMinutes","setSeconds","setMilliseconds","getTime","prevDay","timeStamp","arguments","length","undefined","getFullYear","getMonth","getDate","getDay","ajax","axios_default","a","create","baseURL","interceptors","response","use","res","data","util","item","name","props","type","Object","components_item","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","href","src","images","alt","_e","_v","class","noImg","_s","title","staticRenderFns","src_components_item","__webpack_require__","normalizeComponent","ssrContext","Time","getUnix","getTodayUnix","getYearUnix","setMonth","setDate","getLastDate","time","month","day","getFormatTime","timestamp","now","today","timer","tip","Math","floor","daily_article","directives","bind","el","binding","innerText","value","__timeout__","setInterval","unbind","clearInterval","id","Number","comments","isLoading","CancelToken","cancel","methods","getArticle","_this","document","body","style","overflow","get","cancelToken","c","then","replace","window","scrollTo","catch","thrown","isCancel","console","log","message","getComments","_this2","map","comment","avatar","computed","getTitleImg","image","imageURL","background","watch","val","components_daily_article","rawName","expression","domProps","innerHTML","_l","key","author","content","App","components","Item","dailyArticle","daily_article_normalizeComponent","themes","showThemes","themeId","list","recommendList","dailyTime","articleId","firstLoading","getThemes","others","handleToTheme","stories","filter","handleToRecommend","getRecommendList","_this3","push","formatDay","year","substr","handleScroll","$list","$refs","scrollTop","clientHeight","scrollHeight","handleClick","mounted","selectortype_template_index_0_src_App","on","click","$event","ref","scroll","nativeOn","src_App","App_normalizeComponent","vue_esm","config","productionTip","template"],"mappings":"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","file":"static/js/app.0f27e762686a383a5bc7.js","sourcesContent":["import axios from 'axios'\n\nconst Util = {\n  imgPath: 'http://127.0.0.1:9001/img/',\n  apiPath: 'http://127.0.0.1:9000/',\n  // cssPath:''\n  getTodayTime() {\n    const date = new Date()\n    date.setHours(0)\n    date.setMinutes(0)\n    date.setSeconds(0)\n    date.setMilliseconds(0)\n    return date.getTime()\n  },\n\n  prevDay(timeStamp = (new Date()).getTime()) {\n    const date = new Date(timeStamp)\n    const year = date.getFullYear()\n    const month = date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1\n    const day = date.getDate() < 10 ? `0${date.getDate()}` : date.getDate()\n    return `${year}${month}${day}`\n  },\n  getDay(timeStamp = (new Date()).getTime()) {\n    let date = new Date(timeStamp)\n    const dict = ['日','一','二','三','四','五','六']\n    return `${dict[date.getDay()]}`\n  }\n}\n\nUtil.ajax = axios.create({\n  baseURL: Util.apiPath\n})\n\nUtil.ajax.interceptors.response.use(res => res.data)\n\nexport default Util\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/util.js","<template>\n  <a href=\"#\" class=\"daily-item\">\n    <div class=\"daily-img\" v-if=\"data.images\">\n      <img :src=\"imgPath + data.images[0]\" alt=\"\">\n    </div>\n    <div class=\"daily-title\"\n         :class=\"{noImg: !data.images}\">{{data.title}}\n    </div>\n  </a>\n</template>\n\n<script>\n  import $ from '../assets/util'\n\n  export default {\n    name: 'item',\n    props: {\n      data: {\n        type: Object\n      }\n    },\n    data() {\n      return {\n        imgPath: $.imgPath\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/item.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"daily-item\",attrs:{\"href\":\"#\"}},[(_vm.data.images)?_c('div',{staticClass:\"daily-img\"},[_c('img',{attrs:{\"src\":_vm.imgPath + _vm.data.images[0],\"alt\":\"\"}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"daily-title\",class:{noImg: !_vm.data.images}},[_vm._v(_vm._s(_vm.data.title)+\"\\n  \")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-382c66a6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/item.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-382c66a6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./item.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./item.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./item.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-382c66a6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./item.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-382c66a6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/item.vue\n// module id = null\n// module chunks = ","const Time = {\n  getUnix() {\n    const date = new Date()\n    return date.getTime()\n  },\n\n  getTodayUnix() {\n    const date = new Date()\n    date.setHours(0)\n    date.setMinutes(0)\n    date.setSeconds(0)\n    date.setMilliseconds(0)\n    return date.getTime()\n  },\n\n  getYearUnix() {\n    const date = new Date()\n    date.setMonth(0)\n    date.setDate(1)\n    date.setHours(0)\n    date.setMinutes(0)\n    date.setSeconds(0)\n    date.setMilliseconds(0)\n    return date.getTime()\n  },\n\n  getLastDate(time) {\n    const date = new Date(time)\n    const month = date.getMonth() + 1 < 10 ? `0${date.getMonth() + 1}` : date.getMonth() + 1\n    const day = date.getDate() < 10 ? `0${date.getDay() + 1}` : date.getDate()\n    return `${date.getFullYear()}-${month}-${day}`\n  },\n\n  getFormatTime(timestamp) {\n    const now = this.getUnix()\n    const today = this.getTodayUnix()\n    const year = this.getYearUnix()\n    const timer = (now - timestamp) / 1000\n    let tip = ''\n    switch (true) {\n      case Math.floor(timer / 60 <= 0):\n        tip = '刚刚'\n        break\n      case timer < 3600:\n        tip = `${Math.floor(timer / 60)}分钟前`\n        break\n      case timer >= 3600 && timestamp - today >= 0:\n        tip = `${Math.floor(timer / 3600)}小时前`\n        break\n      case timer / 86400 <= 31:\n        tip = `${Math.floor(timer / 86400)}天前`\n        break\n      default:\n        tip = this.getLastDate(timestamp)\n    }\n\n    return tip\n  }\n}\n\nexport default {\n  bind(el,binding){\n    // 返回的数据里面的时间戳为实际时间戳除以1000，所以这里需要重新乘以1000\n    el.innerText = Time.getFormatTime(binding.value * 1000)\n    el.__timeout__ = setInterval(() => {\n      el.innerText = Time.getFormatTime(binding.value * 1000)\n    },60000)\n  },\n  unbind(el) {\n    clearInterval(el.__timeout__)\n    delete el.__timeout__\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/directives/time.js","<template>\n  <div class=\"daily-article\">\n    <div class=\"loading-modal\" v-show=\"isLoading\">\n      <div class=\"loading-icon\"></div>\n    </div>\n    <div class=\"img-place-holder\" :style=\"getTitleImg\" v-show=\"data.image\">\n      <div class=\"daily-article-title\">{{data.title}}</div>\n    </div>\n    <div v-html=\"data.body\"></div>\n\n    <div class=\"daily-comments\" v-show=\"comments.length\">\n      <span>评论({{comments.length}})</span>\n      <div class=\"daily-comment\" v-for=\"comment in comments\" :key=\"comment.id\">\n        <div class=\"daily-comment-avatar\"><img :src=\"comment.avatar\" alt=\"\"></div>\n        <div class=\"daily-comment-content\">\n          <div class=\"daily-comment-name\">{{comment.author}}</div>\n          <div class=\"daily-comment-time\" v-time=\"comment.time\"></div>\n          <div class=\"daily-comment-text\">{{comment.content}}</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from \"../assets/util\";\nimport Time from \"../assets/directives/time\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"daily-article\",\n  directives: {\n    Time\n  },\n  props: {\n    id: {\n      type: Number\n    }\n  },\n  data() {\n    return {\n      data: {},\n      comments: [],\n      isLoading: false,\n      CancelToken: axios.CancelToken,\n      cancel: null\n    };\n  },\n  methods: {\n    getArticle() {\n      //如果文章正在加载,取消请求,防止频繁切换文章,文章内容与左侧列表不对应的问题\n      if (this.isLoading) this.cancel();\n      this.isLoading = true;\n      //加载时禁止滚动\n      document.body.style.overflow = \"hidden\";\n      //因为data和comments在下面重新赋值了,所以不用清空数据\n      // this.data = {}\n      // this.comments = []\n      $.ajax\n        .get(\"news/\" + this.id, {\n          cancelToken: new this.CancelToken(c => {\n            this.cancel = c;\n          })\n        })\n        .then(res => {\n          //走代理\n          res.body = res.body.replace(/src=\"http/g, `src=\"${$.imgPath}http`);\n          res.body = res.body.replace(/src=\"https/g, `src=\"${$.imgPath}https`);\n          //删除标题图\n          res.body = res.body.replace(\n            /<div class=\"img-place-holder\"><\\/div>/,\n            \"\"\n          );\n          //重新赋值\n          this.data = res;\n          //改变状态\n          this.isLoading = false;\n          // 获取文章后返回顶端\n          window.scrollTo(0, 0);\n          //恢复为可以滚动的状态\n          document.body.style.overflow = \"auto\";\n        })\n        .catch(thrown => {\n          //参考官方文档\n          if (axios.isCancel(thrown)) {\n            // this.isLoading = false\n            console.log(\"Request canceled\", thrown.message);\n          }\n        });\n    },\n    getComments() {\n      $.ajax.get(`story/${this.id}/short-comments`).then(res => {\n        this.comments = res.comments.map(comment => {\n          comment.avatar = $.imgPath + comment.avatar;\n          return comment;\n        });\n      });\n    }\n    //每篇文章css基本一样,所以直接复制作为本地文件\n    // getCSS(res) {\n    //   // this.$nextTick(() => {\n    //   //   const css = document.createElement('link')\n    //   //   css.href = res.css[0]\n    //   //   css.rel = 'stylesheet'\n    //   //   document.head.appendChild(css)\n    //   // })\n    // },\n    //上面直接替换了该元素,所以这里注释掉\n    // getTitleImg(res) {\n    //   // this.$nextTick(() => {\n    //     const titleImg = document.querySelector('.img-place-holder')\n    //     res.image = res.image || res.images[0]\n    //     res.image = res.image.replace(/(https|http)/, `${$.imgPath}https`)\n    //     titleImg.style = `background: url(\"${res.image}\") center center;position:relative`\n    //   // })\n    // }\n  },\n  computed: {\n    //样式判断较复杂,写到computed属性里\n    getTitleImg() {\n      //直接访问this.data.image || this.data.images 可能会出错,需要先判断\n      if (this.data.image || this.data.images) {\n        let imageURL = this.data.image || this.data.images[0];\n        imageURL = $.imgPath + imageURL;\n        return { background: `url(${imageURL}) center center` };\n      }\n    }\n  },\n  watch: {\n    id(val) {\n      if (val) {\n        //id变化时获取文章\n        this.getArticle();\n        //同时获取评论\n        this.getComments();\n      }\n    }\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/daily-article.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"daily-article\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"loading-modal\"},[_c('div',{staticClass:\"loading-icon\"})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.data.image),expression:\"data.image\"}],staticClass:\"img-place-holder\",style:(_vm.getTitleImg)},[_c('div',{staticClass:\"daily-article-title\"},[_vm._v(_vm._s(_vm.data.title))])]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.data.body)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.comments.length),expression:\"comments.length\"}],staticClass:\"daily-comments\"},[_c('span',[_vm._v(\"评论(\"+_vm._s(_vm.comments.length)+\")\")]),_vm._v(\" \"),_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id,staticClass:\"daily-comment\"},[_c('div',{staticClass:\"daily-comment-avatar\"},[_c('img',{attrs:{\"src\":comment.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"daily-comment-content\"},[_c('div',{staticClass:\"daily-comment-name\"},[_vm._v(_vm._s(comment.author))]),_vm._v(\" \"),_c('div',{directives:[{name:\"time\",rawName:\"v-time\",value:(comment.time),expression:\"comment.time\"}],staticClass:\"daily-comment-time\"}),_vm._v(\" \"),_c('div',{staticClass:\"daily-comment-text\"},[_vm._v(_vm._s(comment.content))])])])})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0cf3f3f3\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/daily-article.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"daily\">\n    <div class=\"daily-menu\">\n      <!-- 每日推荐 -->\n      <div class=\"daily-menu-item\"\n           :class=\"{on: type==='recommend'}\"\n           @click=\"handleToRecommend\">每日推荐\n      </div>\n      <!-- 主题日报 -->\n      <div class=\"daily-menu-item\"\n           @click=\"showThemes = !showThemes\"\n           :class=\"{on: type==='daily'}\">主题日报\n      </div>\n      <!-- 主题列表 -->\n      <ul v-show=\"showThemes\">\n        <li v-for=\"item in themes\" :key=\"item.id\">\n          <a href=\"#\" :class=\"{on: item.id === themeId && type === 'daily'}\" @click=\"handleToTheme(item.id)\">{{item.name}}</a>\n        </li>\n      </ul>\n    </div>\n    <div class=\"daily-list\" @scroll=\"handleScroll\" ref=\"list\">\n      <!-- 推荐列表项目 -->\n      <template v-if=\"type === 'recommend'\">\n        <div v-for=\"list in recommendList\" :key=\"list.date\">\n          <!-- 在模板中使用methods的方法 -->\n          <div class=\"daily-date\">{{formatDay(list.date)}}</div>\n          <Item v-for=\"item in list.stories\"\n                :data=\"item\"\n                :key=\"item.id\"\n                @click.native=\"handleClick(item.id)\"\n                :class=\"{on:item.id === articleId}\"></Item>\n        </div>\n      </template>\n      <!-- 主题日报列表项目    -->\n      <template v-else-if=\"type === 'daily'\">\n        <Item v-for=\"item in list\"\n              :data=\"item\"\n              :key=\"item.id\"\n              @click.native=\"handleClick(item.id)\"\n              :class=\"{on:item.id === articleId}\"></Item>\n      </template>\n      <!-- 加载时的转动图标 -->\n      <div class=\"list-loading\" v-show=\"isLoading\"></div>\n    </div>\n    <!-- 文章详情 -->\n    <daily-article :id=\"articleId\"></daily-article>\n  </div>\n</template>\n\n<script>\nimport $ from \"./assets/util\";\nimport Item from \"./components/item\";\nimport dailyArticle from \"./components/daily-article\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Item,\n    dailyArticle\n  },\n  data() {\n    return {\n      themes: [],\n      showThemes: false,\n      type: \"recommend\",\n      themeId: 0,\n      list: [],\n      isLoading: false,\n      recommendList: [],\n      dailyTime: $.getTodayTime(),\n      articleId: 0,\n      firstLoading: true\n    };\n  },\n  methods: {\n    getThemes() {\n      $.ajax.get(\"themes\").then(res => (this.themes = res.others));\n    },\n    handleToTheme(id) {\n      this.type = \"daily\"; //切换类型\n      this.themeId = id; //标记被点击项目,用于判断是否需要加on的css类\n      this.list = []; //清空日报列表,便于显示loading图标\n      this.isLoading = true;\n      $.ajax.get(`theme/${id}`).then(res => {\n        this.list = res.stories.filter(item => item.type !== 1);\n        this.isLoading = false;\n      });\n    },\n    handleToRecommend() {\n      this.type = \"recommend\";\n      this.recommendList = [];\n      this.dailyTime = $.getTodayTime();\n      this.getRecommendList();\n    },\n    getRecommendList() {\n      this.isLoading = true;\n      const prevDay = $.prevDay(this.dailyTime + 86400000);\n      $.ajax.get(\"news/before/\" + prevDay).then(res => {\n        this.recommendList.push(res);\n        this.isLoading = false;\n        //初次载入页面时加载第一篇文章\n        if (this.firstLoading) {\n          this.articleId = this.recommendList[0].stories[0].id;\n          this.firstLoading = false;\n        }\n      });\n    },\n    formatDay(time) {\n      //返回的数据有date字段,直接使用,注意不能直接使用Date.getTime(),因为推荐列表有可能还未更新\n      const year = time.substr(0, 4);\n      const month = time.substr(4, 2);\n      const date = time.substr(6, 2);\n      const day = $.getDay(new Date(`${year}-${month}-${date}`).getTime());\n      return `${year}年 ${month}月 ${date}日 星期${day}`;\n    },\n    handleScroll() {\n      const $list = this.$refs.list;\n      if (this.type === \"daily\" || this.isLoading) return;\n      if ($list.scrollTop + document.body.clientHeight >= $list.scrollHeight) {\n        this.dailyTime -= 86400000;\n        this.getRecommendList();\n      }\n    },\n    handleClick(id) {\n      //异步获取文章的详细代码在组件中,其实也可以写在这里,然后把获取的数据传递给子组件即可.\n      this.articleId = id;\n    }\n  },\n  mounted() {\n    this.getThemes();\n    this.getRecommendList();\n  }\n};\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./daily-article.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./daily-article.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0cf3f3f3\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./daily-article.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/daily-article.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"daily\"},[_c('div',{staticClass:\"daily-menu\"},[_c('div',{staticClass:\"daily-menu-item\",class:{on: _vm.type==='recommend'},on:{\"click\":_vm.handleToRecommend}},[_vm._v(\"每日推荐\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"daily-menu-item\",class:{on: _vm.type==='daily'},on:{\"click\":function($event){_vm.showThemes = !_vm.showThemes}}},[_vm._v(\"主题日报\\n    \")]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showThemes),expression:\"showThemes\"}]},_vm._l((_vm.themes),function(item){return _c('li',{key:item.id},[_c('a',{class:{on: item.id === _vm.themeId && _vm.type === 'daily'},attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.handleToTheme(item.id)}}},[_vm._v(_vm._s(item.name))])])}))]),_vm._v(\" \"),_c('div',{ref:\"list\",staticClass:\"daily-list\",on:{\"scroll\":_vm.handleScroll}},[(_vm.type === 'recommend')?_vm._l((_vm.recommendList),function(list){return _c('div',{key:list.date},[_c('div',{staticClass:\"daily-date\"},[_vm._v(_vm._s(_vm.formatDay(list.date)))]),_vm._v(\" \"),_vm._l((list.stories),function(item){return _c('Item',{key:item.id,class:{on:item.id === _vm.articleId},attrs:{\"data\":item},nativeOn:{\"click\":function($event){_vm.handleClick(item.id)}}})})],2)}):(_vm.type === 'daily')?_vm._l((_vm.list),function(item){return _c('Item',{key:item.id,class:{on:item.id === _vm.articleId},attrs:{\"data\":item},nativeOn:{\"click\":function($event){_vm.handleClick(item.id)}}})}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],staticClass:\"list-loading\"})],2),_vm._v(\" \"),_c('daily-article',{attrs:{\"id\":_vm.articleId}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f6844d1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f6844d1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f6844d1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport './assets/style.css'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}